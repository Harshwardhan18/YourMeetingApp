<%= form_with(model: meeting, local: true) do |form| %>
  <% if meeting.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(meeting.errors.count, "error") %> prohibited this meeting from being saved:</h2>

      <ul>
        <% meeting.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul> 
    </div>
  <% end %>

  <div class="form-group">
    <%= form.label :name %>
    <%= form.text_field(:name, {:class => 'form-control'}) %>
  </div>

  <div class="form-group">
    <%= form.label :start_time %>
    <%= form.datetime_select(:start_time, {start_hour: 7,end_hour: 20,:minute_step => 30, :ampm => true}) %>
  </div>

  <div class="form-group">
    <%= form.label :end_time %>
    <%= form.datetime_select(:end_time,{start_hour: 7,end_hour: 20,:minute_step => 30, :ampm => true}) %>
  </div>

  <div class="form-group">
    <%= form.label :user_id %>
    <%= form.select(:user_ids, User.all.map {|user| [user.email, user.id]}, {}, id: "event_user_ids", :multiple => true, :class => 'form-control js-selectable') %>
  <%# <%= select :user_id, User.all,{ multiple: true, name: 'meeting[user_id]', class: 'form-control js-searchable' } %>
  <%# <%= select :article, :tags, tags, { selected: selected_tags }, { multiple: true, name: 'article[tags]', class: 'form-control js-searchable' } %>
  </div>

  <div class="form-group">
    <%= form.label :room_id %>
    <select name="meeting[room_id]" class ='form-control'>
    <% Room.all.each do |room| %>
        <option value="<%= room.id %>"><%= room.name %></option>
    <% end %>
</select>
  </div>

  <div class="actions">
    <%= form.submit({:class => 'btn btn-dark'}) %>
  </div>
<% end %>
